# â‘¥ å¼€å‘æ–‡æ¡£

## ğŸ“– ç›®å½•

1. [å¼€å‘ç¯å¢ƒæ­å»º](#å¼€å‘ç¯å¢ƒæ­å»º)
2. [é¡¹ç›®ç»“æ„](#é¡¹ç›®ç»“æ„)
3. [å¼€å‘æµç¨‹](#å¼€å‘æµç¨‹)
4. [ä»£ç è§„èŒƒ](#ä»£ç è§„èŒƒ)
5. [æµ‹è¯•æŒ‡å—](#æµ‹è¯•æŒ‡å—)
6. [éƒ¨ç½²æŒ‡å—](#éƒ¨ç½²æŒ‡å—)
7. [å¸¸è§é—®é¢˜](#å¸¸è§é—®é¢˜)
8. [å¼€å‘å·¥å…·](#å¼€å‘å·¥å…·)

---

## 1. å¼€å‘ç¯å¢ƒæ­å»º

### 1.1 ç³»ç»Ÿè¦æ±‚

**Androidå¼€å‘ç¯å¢ƒ**ï¼š
- **æ“ä½œç³»ç»Ÿ**ï¼šWindows 10/11, macOS, Linux
- **JDK**ï¼šJDK 17 æˆ–æ›´é«˜ç‰ˆæœ¬
- **Android Studio**ï¼šArctic Fox (2020.3.1) æˆ–æ›´é«˜ç‰ˆæœ¬
- **Android SDK**ï¼šAndroid 11.0 (API 30) æˆ–æ›´é«˜ç‰ˆæœ¬
- **Gradle**ï¼š8.0 æˆ–æ›´é«˜ç‰ˆæœ¬

**åç«¯å¼€å‘ç¯å¢ƒ**ï¼š
- **Python**ï¼š3.8 æˆ–æ›´é«˜ç‰ˆæœ¬
- **Django**ï¼š4.2 æˆ–æ›´é«˜ç‰ˆæœ¬
- **æ•°æ®åº“**ï¼šPostgreSQL 12+ æˆ– SQLite 3.8+
- **å…¶ä»–å·¥å…·**ï¼šGit, Node.js (ç”¨äºå‰ç«¯å¼€å‘)

### 1.2 å¼€å‘å·¥å…·å®‰è£…

#### 1.2.1 Android Studio å®‰è£…

**æ­¥éª¤**ï¼š

1. ä¸‹è½½ Android Studio
   - è®¿é—® https://developer.android.com/studio
   - ä¸‹è½½å¯¹åº”æ“ä½œç³»ç»Ÿçš„å®‰è£…åŒ…

2. å®‰è£… Android Studio
   - è¿è¡Œå®‰è£…ç¨‹åº
   - æŒ‰ç…§å‘å¯¼å®Œæˆå®‰è£…
   - é¦–æ¬¡å¯åŠ¨æ—¶ä¸‹è½½ Android SDK

3. é…ç½® Android SDK
   - æ‰“å¼€ SDK Manager
   - å®‰è£… Android 11.0 (API 30) SDK
   - å®‰è£… Build Tools å’Œ Platform Tools

4. é…ç½® JDK
   - Android Studio è‡ªå¸¦ JDKï¼Œæ— éœ€é¢å¤–å®‰è£…
   - å¦‚éœ€ä½¿ç”¨ç³»ç»Ÿ JDKï¼Œå¯åœ¨ Project Structure ä¸­é…ç½®

#### 1.2.2 Python ç¯å¢ƒå®‰è£…

**æ­¥éª¤**ï¼š

```bash
# 1. å®‰è£… Python 3.8+
# Windows: ä» https://www.python.org/downloads/ ä¸‹è½½å®‰è£…
# macOS: brew install python3
# Linux: sudo apt-get install python3.8

# 2. éªŒè¯å®‰è£…
python --version  # æˆ– python3 --version

# 3. å®‰è£… pip
python -m ensurepip --upgrade
```

### 1.3 é¡¹ç›®åˆå§‹åŒ–

#### 1.3.1 å…‹éš†é¡¹ç›®

```bash
# å…‹éš†ä»“åº“
git clone https://github.com/ppshuX/kotline_calendar.git
cd kotline_calendar
```

#### 1.3.2 Androidé¡¹ç›®è®¾ç½®

```bash
# è¿›å…¥Androidé¡¹ç›®ç›®å½•
cd adapp

# Android Studioä¼šè‡ªåŠ¨è¯†åˆ«Gradleé¡¹ç›®
# é¦–æ¬¡æ‰“å¼€æ—¶ï¼ŒGradleä¼šè‡ªåŠ¨ä¸‹è½½ä¾èµ–
```

**Gradleé…ç½®**ï¼š

- **settings.gradle.kts**ï¼šé¡¹ç›®è®¾ç½®
- **build.gradle.kts**ï¼šé¡¹ç›®çº§æ„å»ºé…ç½®
- **app/build.gradle.kts**ï¼šåº”ç”¨çº§æ„å»ºé…ç½®

#### 1.3.3 åç«¯é¡¹ç›®è®¾ç½®

```bash
# è¿›å…¥åç«¯é¡¹ç›®ç›®å½•
cd backend

# åˆ›å»ºè™šæ‹Ÿç¯å¢ƒ
python -m venv venv

# æ¿€æ´»è™šæ‹Ÿç¯å¢ƒ
# Windows:
venv\Scripts\activate
# macOS/Linux:
source venv/bin/activate

# å®‰è£…ä¾èµ–
pip install -r requirements.txt

# é…ç½®ç¯å¢ƒå˜é‡
cp .env.example .env
# ç¼–è¾‘ .env æ–‡ä»¶ï¼Œå¡«å…¥å¿…è¦çš„é…ç½®

# æ•°æ®åº“è¿ç§»
python manage.py migrate

# åˆ›å»ºè¶…çº§ç”¨æˆ·ï¼ˆå¯é€‰ï¼‰
python manage.py createsuperuser

# å¯åŠ¨å¼€å‘æœåŠ¡å™¨
python manage.py runserver
```

### 1.4 ä¾èµ–ç®¡ç†

#### 1.4.1 Androidä¾èµ–

**ä¸»è¦ä¾èµ–**ï¼ˆä½äº `app/build.gradle.kts`ï¼‰ï¼š

```kotlin
dependencies {
    // Room æ•°æ®åº“
    implementation("androidx.room:room-runtime:2.6.0")
    kapt("androidx.room:room-compiler:2.6.0")
    implementation("androidx.room:room-ktx:2.6.0")
    
    // Retrofit ç½‘ç»œè¯·æ±‚
    implementation("com.squareup.retrofit2:retrofit:2.9.0")
    implementation("com.squareup.retrofit2:converter-gson:2.9.0")
    
    // Material Design
    implementation("com.google.android.material:material:1.10.0")
    
    // Coroutines
    implementation("org.jetbrains.kotlinx:kotlinx-coroutines-android:1.7.3")
    
    // æ—¥å†ç»„ä»¶
    implementation("com.kizitonwose.calendar:view:2.4.0")
    
    // ç™¾åº¦åœ°å›¾SDK
    implementation("com.baidu.lbsyun:BaiduMapSDK_Map:7.5.0")
}
```

#### 1.4.2 åç«¯ä¾èµ–

**ä¸»è¦ä¾èµ–**ï¼ˆä½äº `requirements.txt`ï¼‰ï¼š

```txt
Django==4.2.7
djangorestframework==3.14.0
django-cors-headers==4.3.1
django-environ==0.11.2
djangorestframework-simplejwt==5.3.0
psycopg2-binary==2.9.9
celery==5.3.4
redis==5.0.1
lunarcalendar==0.0.9
requests==2.31.0
```

---

## 2. é¡¹ç›®ç»“æ„

### 2.1 Androidé¡¹ç›®ç»“æ„

```
adapp/
â”œâ”€â”€ app/
â”‚   â”œâ”€â”€ src/
â”‚   â”‚   â”œâ”€â”€ main/
â”‚   â”‚   â”‚   â”œâ”€â”€ java/com/ncu/kotlincalendar/
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ api/                    # APIæ¥å£å±‚
â”‚   â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ CalendarApi.kt      # ç»Ÿä¸€APIæ¥å£
â”‚   â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ client/             # ç½‘ç»œå®¢æˆ·ç«¯
â”‚   â”‚   â”‚   â”‚   â”‚   â”‚   â””â”€â”€ RetrofitClient.kt
â”‚   â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ models/             # æ•°æ®æ¨¡å‹
â”‚   â”‚   â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ EventModels.kt
â”‚   â”‚   â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ HolidayModels.kt
â”‚   â”‚   â”‚   â”‚   â”‚   â”‚   â””â”€â”€ ...
â”‚   â”‚   â”‚   â”‚   â”‚   â””â”€â”€ services/           # æœåŠ¡æ¥å£
â”‚   â”‚   â”‚   â”‚   â”‚       â”œâ”€â”€ EventService.kt
â”‚   â”‚   â”‚   â”‚   â”‚       â”œâ”€â”€ HolidayService.kt
â”‚   â”‚   â”‚   â”‚   â”‚       â””â”€â”€ ...
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ data/                   # æ•°æ®å±‚
â”‚   â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ database/           # æ•°æ®åº“
â”‚   â”‚   â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ AppDatabase.kt
â”‚   â”‚   â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ EventDao.kt
â”‚   â”‚   â”‚   â”‚   â”‚   â”‚   â””â”€â”€ SubscriptionDao.kt
â”‚   â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ models/             # æœ¬åœ°æ•°æ®æ¨¡å‹
â”‚   â”‚   â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ Event.kt
â”‚   â”‚   â”‚   â”‚   â”‚   â”‚   â””â”€â”€ Subscription.kt
â”‚   â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ repository/         # æ•°æ®ä»“åº“
â”‚   â”‚   â”‚   â”‚   â”‚   â”‚   â””â”€â”€ EventRepository.kt
â”‚   â”‚   â”‚   â”‚   â”‚   â””â”€â”€ managers/           # ç®¡ç†å™¨
â”‚   â”‚   â”‚   â”‚   â”‚       â”œâ”€â”€ ReminderManager.kt
â”‚   â”‚   â”‚   â”‚   â”‚       â”œâ”€â”€ SubscriptionManager.kt
â”‚   â”‚   â”‚   â”‚   â”‚       â””â”€â”€ ...
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ ui/                     # UIå±‚
â”‚   â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ activities/         # Activity
â”‚   â”‚   â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ MainActivity.kt
â”‚   â”‚   â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ SubscriptionsActivity.kt
â”‚   â”‚   â”‚   â”‚   â”‚   â”‚   â””â”€â”€ ...
â”‚   â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ adapters/           # Adapter
â”‚   â”‚   â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ EventAdapter.kt
â”‚   â”‚   â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ TimeSlotAdapter.kt
â”‚   â”‚   â”‚   â”‚   â”‚   â”‚   â””â”€â”€ ...
â”‚   â”‚   â”‚   â”‚   â”‚   â””â”€â”€ dialogs/            # Dialog
â”‚   â”‚   â”‚   â”‚   â”‚       â””â”€â”€ EventEditDialogHelper.kt
â”‚   â”‚   â”‚   â”‚   â””â”€â”€ utils/                  # å·¥å…·ç±»
â”‚   â”‚   â”‚   â”‚       â”œâ”€â”€ EventConverter.kt
â”‚   â”‚   â”‚   â”‚       â”œâ”€â”€ PreferenceManager.kt
â”‚   â”‚   â”‚   â”‚       â””â”€â”€ ...
â”‚   â”‚   â”‚   â”œâ”€â”€ res/                        # èµ„æºæ–‡ä»¶
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ layout/                 # å¸ƒå±€æ–‡ä»¶
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ values/                 # é…ç½®æ–‡ä»¶
â”‚   â”‚   â”‚   â”‚   â””â”€â”€ drawable/               # å›¾ç‰‡èµ„æº
â”‚   â”‚   â”‚   â””â”€â”€ AndroidManifest.xml
â”‚   â”‚   â””â”€â”€ test/                           # æµ‹è¯•ä»£ç 
â”‚   â””â”€â”€ build.gradle.kts
â”œâ”€â”€ gradle/
â”œâ”€â”€ build.gradle.kts
â””â”€â”€ settings.gradle.kts
```

### 2.2 åç«¯é¡¹ç›®ç»“æ„

```
backend/
â”œâ”€â”€ api/                                    # APIåº”ç”¨
â”‚   â”œâ”€â”€ models/                             # æ•°æ®æ¨¡å‹
â”‚   â”‚   â”œâ”€â”€ event.py
â”‚   â”‚   â”œâ”€â”€ subscription.py
â”‚   â”‚   â””â”€â”€ ...
â”‚   â”œâ”€â”€ views/                              # è§†å›¾å±‚
â”‚   â”‚   â”œâ”€â”€ event.py
â”‚   â”‚   â”œâ”€â”€ subscription.py
â”‚   â”‚   â””â”€â”€ ...
â”‚   â”œâ”€â”€ serializers.py                      # åºåˆ—åŒ–å™¨
â”‚   â”œâ”€â”€ url_patterns/                       # URLè·¯ç”±
â”‚   â””â”€â”€ urls.py
â”œâ”€â”€ calendar_backend/                       # Djangoé¡¹ç›®é…ç½®
â”‚   â”œâ”€â”€ settings.py                         # é…ç½®æ–‡ä»¶
â”‚   â”œâ”€â”€ urls.py                             # ä¸»URLé…ç½®
â”‚   â””â”€â”€ wsgi.py
â”œâ”€â”€ manage.py
â”œâ”€â”€ requirements.txt
â””â”€â”€ .env                                    # ç¯å¢ƒå˜é‡ï¼ˆä¸æäº¤ï¼‰
```

### 2.3 ç›®å½•è¯´æ˜

**Androidé¡¹ç›®**ï¼š

- **api/**ï¼šç½‘ç»œæ¥å£å±‚ï¼Œè´Ÿè´£ä¸åç«¯APIé€šä¿¡
- **data/**ï¼šæ•°æ®å±‚ï¼ŒåŒ…å«æ•°æ®åº“ã€æ¨¡å‹ã€ä»“åº“å’Œç®¡ç†å™¨
- **ui/**ï¼šUIå±‚ï¼ŒåŒ…å«Activityã€Adapterã€Dialogç­‰ç•Œé¢ç»„ä»¶
- **utils/**ï¼šå·¥å…·ç±»ï¼ŒåŒ…å«è½¬æ¢å™¨ã€åå¥½è®¾ç½®ç®¡ç†ç­‰

**åç«¯é¡¹ç›®**ï¼š

- **api/models/**ï¼šæ•°æ®æ¨¡å‹ï¼Œå®šä¹‰æ•°æ®åº“è¡¨ç»“æ„
- **api/views/**ï¼šè§†å›¾å±‚ï¼Œå¤„ç†HTTPè¯·æ±‚
- **api/serializers.py**ï¼šåºåˆ—åŒ–å™¨ï¼Œç”¨äºæ•°æ®åºåˆ—åŒ–å’Œååºåˆ—åŒ–
- **api/url_patterns/**ï¼šURLè·¯ç”±é…ç½®

---

## 3. å¼€å‘æµç¨‹

### 3.1 å¼€å‘å·¥ä½œæµ

```plantuml
@startuml å¼€å‘å·¥ä½œæµ

start
: ä»masteråˆ†æ”¯åˆ›å»ºæ–°åˆ†æ”¯;
: å¼€å‘å’Œæµ‹è¯•;
: æäº¤ä»£ç ;
: æ¨é€åˆ°è¿œç¨‹ä»“åº“;
: åˆ›å»ºPull Request;
: ä»£ç å®¡æŸ¥;
if (å®¡æŸ¥é€šè¿‡?) then (æ˜¯)
    : åˆå¹¶åˆ°master;
    : æ„å»ºå’Œéƒ¨ç½²;
    stop
else (å¦)
    : ä¿®æ”¹ä»£ç ;
    : é‡æ–°æäº¤;
endif

@enduml
```

### 3.2 æ·»åŠ æ–°åŠŸèƒ½æµç¨‹

**æ­¥éª¤**ï¼š

1. **åˆ›å»ºåŠŸèƒ½åˆ†æ”¯**
   ```bash
   git checkout -b feature/æ–°åŠŸèƒ½åç§°
   ```

2. **å¼€å‘åŠŸèƒ½**
   - ç¼–å†™ä»£ç 
   - æ·»åŠ æµ‹è¯•
   - æ›´æ–°æ–‡æ¡£

3. **æäº¤ä»£ç **
   ```bash
   git add .
   git commit -m "feat: æ·»åŠ æ–°åŠŸèƒ½æè¿°"
   git push origin feature/æ–°åŠŸèƒ½åç§°
   ```

4. **åˆ›å»ºPull Request**
   - åœ¨GitHubä¸Šåˆ›å»ºPR
   - æè¿°åŠŸèƒ½å˜æ›´
   - ç­‰å¾…ä»£ç å®¡æŸ¥

5. **åˆå¹¶ä»£ç **
   - å®¡æŸ¥é€šè¿‡ååˆå¹¶åˆ°master
   - åˆ é™¤åŠŸèƒ½åˆ†æ”¯

### 3.3 ä¿®å¤Bugæµç¨‹

**æ­¥éª¤**ï¼š

1. **åˆ›å»ºBugä¿®å¤åˆ†æ”¯**
   ```bash
   git checkout -b bugfix/é—®é¢˜æè¿°
   ```

2. **ä¿®å¤Bug**
   - å®šä½é—®é¢˜
   - ä¿®å¤ä»£ç 
   - æ·»åŠ æµ‹è¯•

3. **æäº¤ä¿®å¤**
   ```bash
   git add .
   git commit -m "fix: ä¿®å¤é—®é¢˜æè¿°"
   git push origin bugfix/é—®é¢˜æè¿°
   ```

4. **åˆ›å»ºPull Request**
   - æè¿°é—®é¢˜å’Œä¿®å¤æ–¹æ¡ˆ
   - ç­‰å¾…å®¡æŸ¥

5. **åˆå¹¶ä¿®å¤**
   - å®¡æŸ¥é€šè¿‡ååˆå¹¶
   - åˆ é™¤ä¿®å¤åˆ†æ”¯

---

## 4. ä»£ç è§„èŒƒ

### 4.1 Kotlinä»£ç è§„èŒƒ

#### 4.1.1 å‘½åè§„èŒƒ

**ç±»å’Œæ¥å£**ï¼šä½¿ç”¨å¸•æ–¯å¡å‘½åï¼ˆPascalCaseï¼‰

```kotlin
class EventRepository { }
interface EventDao { }
```

**å‡½æ•°å’Œå˜é‡**ï¼šä½¿ç”¨é©¼å³°å‘½åï¼ˆcamelCaseï¼‰

```kotlin
fun getEvents(): List<Event> { }
val eventList: List<Event> = emptyList()
```

**å¸¸é‡**ï¼šä½¿ç”¨å…¨å¤§å†™ï¼Œä¸‹åˆ’çº¿åˆ†éš”

```kotlin
const val MAX_EVENT_COUNT = 100
const val API_BASE_URL = "https://api.example.com"
```

#### 4.1.2 ä»£ç æ ¼å¼

**ç¼©è¿›**ï¼šä½¿ç”¨4ä¸ªç©ºæ ¼

**è¡Œé•¿åº¦**ï¼šæ¯è¡Œä¸è¶…è¿‡120ä¸ªå­—ç¬¦

**ç©ºè¡Œ**ï¼šä½¿ç”¨ç©ºè¡Œåˆ†éš”é€»è¾‘å—

```kotlin
class EventRepository(
    private val eventDao: EventDao,
    private val api: CalendarApi
) {
    suspend fun getAllEvents(): List<Event> {
        // é€»è¾‘å—1
        
        // é€»è¾‘å—2
        return eventDao.getAllEvents()
    }
}
```

#### 4.1.3 æ³¨é‡Šè§„èŒƒ

**ç±»å’Œå‡½æ•°æ³¨é‡Š**ï¼šä½¿ç”¨KDocæ ¼å¼

```kotlin
/**
 * æ—¥ç¨‹äº‹ä»¶ä»“åº“
 * 
 * è´Ÿè´£ç®¡ç†æ—¥ç¨‹æ•°æ®çš„å¢åˆ æ”¹æŸ¥ï¼Œæ”¯æŒæœ¬åœ°å’Œäº‘ç«¯ä¸¤ç§æ¨¡å¼ã€‚
 * 
 * @param eventDao æ—¥ç¨‹æ•°æ®è®¿é—®å¯¹è±¡
 * @param api æ—¥å†APIæ¥å£
 */
class EventRepository(
    private val eventDao: EventDao,
    private val api: CalendarApi
) {
    /**
     * è·å–æ‰€æœ‰æ—¥ç¨‹
     * 
     * @return æ—¥ç¨‹åˆ—è¡¨
     */
    suspend fun getAllEvents(): List<Event> {
        return eventDao.getAllEvents()
    }
}
```

**è¡Œå†…æ³¨é‡Š**ï¼šä½¿ç”¨ `//` æ³¨é‡Š

```kotlin
val eventList = eventDao.getAllEvents()  // ä»æ•°æ®åº“è·å–æ‰€æœ‰æ—¥ç¨‹
```

### 4.2 Pythonä»£ç è§„èŒƒ

#### 4.2.1 å‘½åè§„èŒƒ

**ç±»å’Œå‡½æ•°**ï¼šä½¿ç”¨ä¸‹åˆ’çº¿å‘½åï¼ˆsnake_caseï¼‰

```python
class EventRepository:
    def get_all_events(self):
        pass
```

**å¸¸é‡**ï¼šä½¿ç”¨å…¨å¤§å†™ï¼Œä¸‹åˆ’çº¿åˆ†éš”

```python
MAX_EVENT_COUNT = 100
API_BASE_URL = "https://api.example.com"
```

#### 4.2.2 ä»£ç æ ¼å¼

éµå¾ª **PEP 8** ç¼–ç è§„èŒƒï¼š

- **ç¼©è¿›**ï¼šä½¿ç”¨4ä¸ªç©ºæ ¼
- **è¡Œé•¿åº¦**ï¼šæ¯è¡Œä¸è¶…è¿‡79ä¸ªå­—ç¬¦ï¼ˆæˆ–99ä¸ªå­—ç¬¦ï¼Œæ ¹æ®é¡¹ç›®è®¾ç½®ï¼‰
- **å¯¼å…¥é¡ºåº**ï¼šæ ‡å‡†åº“ â†’ ç¬¬ä¸‰æ–¹åº“ â†’ æœ¬åœ°æ¨¡å—

```python
# æ ‡å‡†åº“
import os
import sys

# ç¬¬ä¸‰æ–¹åº“
from django.db import models
from rest_framework import serializers

# æœ¬åœ°æ¨¡å—
from api.models import Event
```

#### 4.2.3 æ³¨é‡Šè§„èŒƒ

**ç±»å’Œå‡½æ•°æ³¨é‡Š**ï¼šä½¿ç”¨æ–‡æ¡£å­—ç¬¦ä¸²

```python
class EventRepository:
    """
    æ—¥ç¨‹äº‹ä»¶ä»“åº“
    
    è´Ÿè´£ç®¡ç†æ—¥ç¨‹æ•°æ®çš„å¢åˆ æ”¹æŸ¥ï¼Œæ”¯æŒæœ¬åœ°å’Œäº‘ç«¯ä¸¤ç§æ¨¡å¼ã€‚
    """
    
    def get_all_events(self):
        """
        è·å–æ‰€æœ‰æ—¥ç¨‹
        
        Returns:
            list: æ—¥ç¨‹åˆ—è¡¨
        """
        return Event.objects.all()
```

---

## 5. æµ‹è¯•æŒ‡å—

### 5.1 Androidæµ‹è¯•

#### 5.1.1 å•å…ƒæµ‹è¯•

**ä½ç½®**ï¼š`app/src/test/java/`

**ç¤ºä¾‹**ï¼š

```kotlin
import org.junit.Test
import org.junit.Assert.*

class EventRepositoryTest {
    @Test
    fun testGetAllEvents() {
        // å‡†å¤‡æµ‹è¯•æ•°æ®
        val repository = EventRepository(mockDao, mockApi)
        
        // æ‰§è¡Œæµ‹è¯•
        val events = repository.getAllEvents()
        
        // éªŒè¯ç»“æœ
        assertNotNull(events)
        assertTrue(events.isNotEmpty())
    }
}
```

#### 5.1.2 é›†æˆæµ‹è¯•

**ä½ç½®**ï¼š`app/src/androidTest/java/`

**ç¤ºä¾‹**ï¼š

```kotlin
import androidx.room.testing.MigrationTestHelper
import androidx.test.ext.junit.runners.AndroidJUnit4

@RunWith(AndroidJUnit4::class)
class DatabaseMigrationTest {
    @Test
    fun testMigration1To2() {
        // æµ‹è¯•æ•°æ®åº“è¿ç§»
    }
}
```

### 5.2 åç«¯æµ‹è¯•

#### 5.2.1 å•å…ƒæµ‹è¯•

**ä½ç½®**ï¼š`api/tests/`

**ç¤ºä¾‹**ï¼š

```python
from django.test import TestCase
from api.models import Event

class EventModelTest(TestCase):
    def setUp(self):
        """è®¾ç½®æµ‹è¯•æ•°æ®"""
        self.event = Event.objects.create(
            title="æµ‹è¯•æ—¥ç¨‹",
            start_time="2024-01-01 12:00:00"
        )
    
    def test_event_creation(self):
        """æµ‹è¯•æ—¥ç¨‹åˆ›å»º"""
        self.assertEqual(self.event.title, "æµ‹è¯•æ—¥ç¨‹")
        self.assertIsNotNone(self.event.id)
```

#### 5.2.2 APIæµ‹è¯•

**ç¤ºä¾‹**ï¼š

```python
from rest_framework.test import APIClient
from django.test import TestCase

class EventAPITest(TestCase):
    def setUp(self):
        self.client = APIClient()
    
    def test_get_events(self):
        """æµ‹è¯•è·å–æ—¥ç¨‹åˆ—è¡¨API"""
        response = self.client.get('/api/events/')
        self.assertEqual(response.status_code, 200)
```

### 5.3 æµ‹è¯•è¦†ç›–ç‡

**ç›®æ ‡è¦†ç›–ç‡**ï¼š
- å•å…ƒæµ‹è¯•ï¼š80%+
- é›†æˆæµ‹è¯•ï¼š60%+
- APIæµ‹è¯•ï¼š70%+

---

## 6. éƒ¨ç½²æŒ‡å—

### 6.1 Androidåº”ç”¨æ‰“åŒ…

#### 6.1.1 è°ƒè¯•ç‰ˆæœ¬ï¼ˆDebugï¼‰

```bash
# åœ¨Android Studioä¸­
Build â†’ Build Bundle(s) / APK(s) â†’ Build APK(s)
```

#### 6.1.2 å‘å¸ƒç‰ˆæœ¬ï¼ˆReleaseï¼‰

**æ­¥éª¤**ï¼š

1. **é…ç½®ç­¾åå¯†é’¥**

   ```kotlin
   // app/build.gradle.kts
   android {
       signingConfigs {
           create("release") {
               storeFile = file("keystore.jks")
               storePassword = "your_store_password"
               keyAlias = "your_key_alias"
               keyPassword = "your_key_password"
           }
       }
       
       buildTypes {
           getByName("release") {
               signingConfig = signingConfigs.getByName("release")
               isMinifyEnabled = true
               proguardFiles(getDefaultProguardFile("proguard-android-optimize.txt"), "proguard-rules.pro")
           }
       }
   }
   ```

2. **ç”Ÿæˆç­¾åAPK**

   ```bash
   ./gradlew assembleRelease
   ```

3. **ç”ŸæˆAABï¼ˆæ¨èï¼‰**

   ```bash
   ./gradlew bundleRelease
   ```

### 6.2 åç«¯éƒ¨ç½²

#### 6.2.1 ç”Ÿäº§ç¯å¢ƒé…ç½®

**ç¯å¢ƒå˜é‡**ï¼ˆ`.env`ï¼‰ï¼š

```env
DEBUG=False
SECRET_KEY=your_secret_key
DATABASE_URL=postgresql://user:password@localhost:5432/ralendar
ALLOWED_HOSTS=your_domain.com
```

#### 6.2.2 éƒ¨ç½²æ­¥éª¤

```bash
# 1. æ”¶é›†é™æ€æ–‡ä»¶
python manage.py collectstatic --noinput

# 2. æ•°æ®åº“è¿ç§»
python manage.py migrate

# 3. ä½¿ç”¨uWSGIå¯åŠ¨
uwsgi --ini uwsgi.ini

# 4. é…ç½®Nginxï¼ˆå¯é€‰ï¼‰
# ç¼–è¾‘nginx.confï¼Œé…ç½®åå‘ä»£ç†
```

---

## 7. å¸¸è§é—®é¢˜

### 7.1 Androidå¼€å‘é—®é¢˜

**Q: Gradleæ„å»ºå¤±è´¥æ€ä¹ˆåŠï¼Ÿ**

A: 
1. æ¸…ç†é¡¹ç›®ï¼š`./gradlew clean`
2. é‡æ–°æ„å»ºï¼š`./gradlew build`
3. æ£€æŸ¥ç½‘ç»œè¿æ¥ï¼ˆä¸‹è½½ä¾èµ–ï¼‰
4. æ£€æŸ¥Gradleç‰ˆæœ¬å…¼å®¹æ€§

**Q: Roomæ•°æ®åº“è¿ç§»å¤±è´¥ï¼Ÿ**

A:
1. æ£€æŸ¥æ•°æ®åº“ç‰ˆæœ¬å·æ˜¯å¦æ­£ç¡®
2. ç¡®è®¤Migrationç±»æ˜¯å¦æ­£ç¡®å®ç°
3. å¼€å‘é˜¶æ®µå¯ä»¥ä½¿ç”¨ `fallbackToDestructiveMigration()`

**Q: Retrofitç½‘ç»œè¯·æ±‚å¤±è´¥ï¼Ÿ**

A:
1. æ£€æŸ¥ç½‘ç»œæƒé™ï¼š`INTERNET`ã€`ACCESS_NETWORK_STATE`
2. æ£€æŸ¥APIåœ°å€æ˜¯å¦æ­£ç¡®
3. æ£€æŸ¥SSLè¯ä¹¦é…ç½®ï¼ˆHTTPSï¼‰

### 7.2 åç«¯å¼€å‘é—®é¢˜

**Q: Djangoè¿ç§»å¤±è´¥ï¼Ÿ**

A:
1. æ£€æŸ¥æ•°æ®åº“è¿æ¥é…ç½®
2. æ£€æŸ¥æ¨¡å‹å®šä¹‰æ˜¯å¦æ­£ç¡®
3. å°è¯•æ‰‹åŠ¨è¿ç§»ï¼š`python manage.py makemigrations`

**Q: APIè¯·æ±‚è¿”å›404ï¼Ÿ**

A:
1. æ£€æŸ¥URLè·¯ç”±é…ç½®
2. æ£€æŸ¥è§†å›¾å‡½æ•°åç§°
3. æ£€æŸ¥è¯·æ±‚æ–¹æ³•ï¼ˆGET/POSTç­‰ï¼‰

**Q: è·¨åŸŸé—®é¢˜ï¼ˆCORSï¼‰ï¼Ÿ**

A:
1. å®‰è£… `django-cors-headers`
2. åœ¨settings.pyä¸­é…ç½®CORS_ALLOWED_ORIGINS

---

## 8. å¼€å‘å·¥å…·

### 8.1 æ¨èIDE

**Androidå¼€å‘**ï¼š
- **Android Studio**ï¼šå®˜æ–¹IDEï¼ŒåŠŸèƒ½æœ€å…¨
- **IntelliJ IDEA**ï¼šåŠŸèƒ½å¼ºå¤§çš„é€šç”¨IDE

**åç«¯å¼€å‘**ï¼š
- **PyCharm**ï¼šä¸“ä¸šçš„Python IDE
- **VS Code**ï¼šè½»é‡çº§ç¼–è¾‘å™¨ï¼Œæ’ä»¶ä¸°å¯Œ

### 8.2 è°ƒè¯•å·¥å…·

**Android**ï¼š
- **Logcat**ï¼šæŸ¥çœ‹æ—¥å¿—è¾“å‡º
- **Android Profiler**ï¼šæ€§èƒ½åˆ†æå·¥å…·
- **Layout Inspector**ï¼šå¸ƒå±€è°ƒè¯•å·¥å…·

**åç«¯**ï¼š
- **Django Debug Toolbar**ï¼šå¼€å‘è°ƒè¯•å·¥å…·æ 
- **Python Debugger (pdb)**ï¼šä»£ç è°ƒè¯•å™¨

### 8.3 ç‰ˆæœ¬æ§åˆ¶

**Gitå·¥ä½œæµ**ï¼š
- **ä¸»åˆ†æ”¯**ï¼š`master`ï¼ˆç”Ÿäº§ç¯å¢ƒä»£ç ï¼‰
- **å¼€å‘åˆ†æ”¯**ï¼š`develop`ï¼ˆå¼€å‘ç¯å¢ƒä»£ç ï¼‰
- **åŠŸèƒ½åˆ†æ”¯**ï¼š`feature/xxx`ï¼ˆæ–°åŠŸèƒ½å¼€å‘ï¼‰
- **Bugä¿®å¤åˆ†æ”¯**ï¼š`bugfix/xxx`ï¼ˆBugä¿®å¤ï¼‰

**æäº¤ä¿¡æ¯è§„èŒƒ**ï¼š
```
feat: æ–°åŠŸèƒ½
fix: ä¿®å¤Bug
docs: æ–‡æ¡£æ›´æ–°
style: ä»£ç æ ¼å¼è°ƒæ•´
refactor: ä»£ç é‡æ„
test: æµ‹è¯•ç›¸å…³
chore: æ„å»º/å·¥å…·ç›¸å…³
```

---

## 9. å¼€å‘æµç¨‹å›¾

```plantuml
@startuml å®Œæ•´å¼€å‘æµç¨‹å›¾

start
: éœ€æ±‚åˆ†æ;
: åˆ›å»ºåŠŸèƒ½åˆ†æ”¯;
: å¼€å‘åŠŸèƒ½;
: ç¼–å†™æµ‹è¯•;
: æœ¬åœ°æµ‹è¯•;
if (æµ‹è¯•é€šè¿‡?) then (æ˜¯)
    : æäº¤ä»£ç ;
    : æ¨é€åˆ°è¿œç¨‹;
    : åˆ›å»ºPull Request;
    : ä»£ç å®¡æŸ¥;
    if (å®¡æŸ¥é€šè¿‡?) then (æ˜¯)
        : åˆå¹¶åˆ°master;
        : æ„å»ºåº”ç”¨;
        if (æ„å»ºæˆåŠŸ?) then (æ˜¯)
            : éƒ¨ç½²åˆ°ç”Ÿäº§ç¯å¢ƒ;
            : æµ‹è¯•éªŒè¯;
            if (éªŒè¯é€šè¿‡?) then (æ˜¯)
                stop
            else (å¦)
                : å›æ»šç‰ˆæœ¬;
                stop
            endif
        else (å¦)
            : ä¿®å¤æ„å»ºé—®é¢˜;
        endif
    else (å¦)
        : ä¿®æ”¹ä»£ç ;
    endif
else (å¦)
    : ä¿®å¤æµ‹è¯•é—®é¢˜;
endif

@enduml
```

---

## 10. æ€»ç»“

### 10.1 å¼€å‘è§„èŒƒæ€»ç»“

- âœ… **ä»£ç è§„èŒƒ**ï¼šéµå¾ªKotlinå’ŒPythonå®˜æ–¹ç¼–ç è§„èŒƒ
- âœ… **æµ‹è¯•é©±åŠ¨**ï¼šå…ˆå†™æµ‹è¯•ï¼Œå†å†™ä»£ç 
- âœ… **ç‰ˆæœ¬æ§åˆ¶**ï¼šä½¿ç”¨Gitè¿›è¡Œç‰ˆæœ¬ç®¡ç†
- âœ… **ä»£ç å®¡æŸ¥**ï¼šæ‰€æœ‰ä»£ç å¿…é¡»ç»è¿‡å®¡æŸ¥æ‰èƒ½åˆå¹¶

### 10.2 æœ€ä½³å®è·µ

- âœ… **æ¨¡å—åŒ–è®¾è®¡**ï¼šæ¯ä¸ªæ¨¡å—èŒè´£æ˜ç¡®ï¼Œä½è€¦åˆé«˜å†…èš
- âœ… **é”™è¯¯å¤„ç†**ï¼šå®Œå–„çš„å¼‚å¸¸å¤„ç†å’Œé”™è¯¯æç¤º
- âœ… **æ€§èƒ½ä¼˜åŒ–**ï¼šåˆç†ä½¿ç”¨ç´¢å¼•ï¼Œä¼˜åŒ–æŸ¥è¯¢æ€§èƒ½
- âœ… **å®‰å…¨è€ƒè™‘**ï¼šæ•°æ®éªŒè¯ã€æƒé™æ§åˆ¶ã€é˜²æ­¢SQLæ³¨å…¥

### 10.3 æŒç»­æ”¹è¿›

- ğŸ”„ **ä»£ç é‡æ„**ï¼šå®šæœŸé‡æ„ä»£ç ï¼Œæé«˜ä»£ç è´¨é‡
- ğŸ”„ **æ€§èƒ½ä¼˜åŒ–**ï¼šæŒç»­ä¼˜åŒ–æ€§èƒ½ï¼Œæå‡ç”¨æˆ·ä½“éªŒ
- ğŸ”„ **æ–‡æ¡£æ›´æ–°**ï¼šåŠæ—¶æ›´æ–°æ–‡æ¡£ï¼Œä¿æŒæ–‡æ¡£ä¸ä»£ç åŒæ­¥
- ğŸ”„ **æŠ€æœ¯å‡çº§**ï¼šå…³æ³¨æ–°æŠ€æœ¯ï¼Œé€‚æ—¶å‡çº§æŠ€æœ¯æ ˆ

---

**æ–‡æ¡£ç‰ˆæœ¬**ï¼šv1.0  
**æœ€åæ›´æ–°**ï¼š2025å¹´11æœˆ  
**ç»´æŠ¤è€…**ï¼šRalendar æ ¸å¿ƒå›¢é˜Ÿ

